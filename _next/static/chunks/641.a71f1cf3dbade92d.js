"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[641],{7639:(e,s,t)=>{t.d(s,{A:()=>l});let l=(0,t(14294).A)("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]])},12641:(e,s,t)=>{t.r(s),t.d(s,{ExperimentsTab:()=>Z});var l=t(95155),a=t(12115),r=t(86948),i=t(3998),n=t(63551),o=t(7639);let d=(0,t(14294).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var c=t(34486),h=t(71408),x=t(26991),m=t(66278),p=t(16533),u=t(47734),f=t(73697),g=t(36164),j=(0,m.gu)({chartName:"BarChart",GraphicalChild:p.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:u.W},{axisType:"yAxis",AxisComp:f.h}],formatAxisMap:g.pr}),y=t(23508),v=t(48716),N=t(63296),b=t(14724),k=t(69386),w=t(47643),A=(0,m.gu)({chartName:"LineChart",GraphicalChild:w.N,axisComponents:[{axisType:"xAxis",AxisComp:u.W},{axisType:"yAxis",AxisComp:f.h}],formatAxisMap:g.pr}),M=t(68425);let C=e=>{let{isVisible:s}=e;return(0,l.jsx)(c.P.div,{className:"w-full h-full bg-slate-800 rounded-full",initial:{scale:0},animate:{scale:+!!s},transition:{type:"spring",stiffness:500,damping:30}})},T={1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],5:[0,2,4,6,8],6:[0,2,3,5,6,8]},W=e=>{let{value:s,isRolling:t}=e,r=(0,a.useMemo)(()=>new Set(T[s]),[s]);return(0,l.jsx)(c.P.div,{className:"w-32 h-32 bg-white rounded-2xl shadow-lg p-4 border border-slate-200",animate:t?"rolling":"still",variants:{rolling:{rotate:[0,360,-360,0],scale:[1,.8,1.2,1],transition:{duration:1,ease:"easeInOut"}},still:{rotate:0,scale:1}},children:(0,l.jsx)("div",{className:"grid grid-cols-3 grid-rows-3 w-full h-full gap-2",children:Array.from({length:9}).map((e,s)=>(0,l.jsx)(C,{isVisible:!t&&r.has(s)},s))})})},B=["#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#a855f7"];function Z(){let[e,s]=(0,a.useState)([]),[t,m]=(0,a.useState)(!1),[g,C]=(0,a.useState)(1),T=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t)return;m(!0);let l=[];for(let s=0;s<e;s++)l.push(Math.floor(6*Math.random())+1);C(Math.floor(6*Math.random())+1),setTimeout(()=>{s(e=>[...l,...e]),C(l[0]),m(!1)},1e3)},Z=(0,a.useMemo)(()=>{let s={1:0,2:0,3:0,4:0,5:0,6:0};e.forEach(e=>{s[e]++});let t=e.length;return 0===t?Array.from({length:6},(e,s)=>({face:s+1,count:0,percentage:0})):Object.entries(s).map(e=>{let[s,l]=e;return{face:Number(s),count:l,percentage:l/t*100}})},[e]),R=(0,a.useMemo)(()=>{let s=0,t=e.slice().reverse().map((e,t)=>(6===e&&s++,{rollNumber:t+1,probability:s/(t+1)*100}));if(t.length>200){let e=[],s=Math.floor(t.length/200);for(let l=0;l<t.length;l+=s)e.push(t[l]);return e}return t},[e]),E=(0,a.useMemo)(()=>e.slice(0,10),[e]),F=e.length/6,D=1/6*100;return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)(r.Zp,{className:"glassmorphism text-center",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{className:"text-2xl",children:"آزمایشگاه پرتاب تاس"}),(0,l.jsx)(r.BT,{children:"قانون اعداد بزرگ را تجربه کنید. هر چه بیشتر پرتاب کنید، نتایج به احتمال واقعی (۱/۶ یا ۱۶.۷٪) نزدیک‌تر می‌شوند."})]}),(0,l.jsxs)(r.Wu,{className:"flex flex-col items-center justify-center space-y-8 min-h-[350px]",children:[(0,l.jsx)(W,{value:g,isRolling:t}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3",children:[(0,l.jsxs)(i.$,{onClick:()=>T(1),size:"lg",className:"w-48 bg-green-600 hover:bg-green-700",disabled:t,children:[(0,l.jsx)(n.A,{className:"ml-2"}),"پرتاب تکی"]}),(0,l.jsx)(i.$,{onClick:()=>T(100),variant:"outline",size:"lg",className:"w-48",disabled:t,children:"پرتاب ۱۰۰ تایی"}),(0,l.jsxs)(i.$,{onClick:()=>{s([]),C(1)},variant:"ghost",size:"sm",className:"text-slate-400 hover:text-white",disabled:t,children:[(0,l.jsx)(o.A,{className:"ml-2"}),"شروع مجدد"]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,l.jsxs)(r.Zp,{className:"glassmorphism w-full",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{children:"تاریخچه"}),(0,l.jsx)(r.BT,{children:"۱۰ پرتاب آخر نمایش داده می‌شود."})]}),(0,l.jsxs)(r.Wu,{className:"h-24 w-full flex items-center justify-start overflow-x-auto pb-4",children:[(0,l.jsx)(h.N,{children:(0,l.jsx)("div",{className:"flex flex-row-reverse gap-3 flex-nowrap",children:E.map((s,t)=>(0,l.jsx)(c.P.div,{layout:!0,initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},transition:{type:"spring",duration:.4},className:"w-10 h-10 bg-white/80 text-slate-800 rounded-md flex items-center justify-center font-bold text-xl shadow shrink-0",children:s},"".concat(s,"-").concat(e.length-t)))})}),0===e.length&&(0,l.jsx)("p",{className:"text-slate-400 w-full text-center",children:"تاریخچه‌ای وجود ندارد."})]})]}),(0,l.jsxs)(r.Zp,{className:"glassmorphism w-full",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{children:"تحلیل فراوانی"}),(0,l.jsxs)(r.BT,{children:["فراوانی هر نتیجه (تعداد کل پرتاب‌ها: ",e.length,")"]})]}),(0,l.jsx)(r.Wu,{className:"h-48",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(j,{data:Z,margin:{top:20,right:10,left:-20,bottom:0},children:[(0,l.jsx)(u.W,{dataKey:"face",stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))"}}),(0,l.jsx)(f.h,{stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))"}}),(0,l.jsx)(y.m,{cursor:{fill:"hsl(var(--secondary) / 0.5)"},content:(0,l.jsx)(e=>{let{active:s,payload:t,label:a}=e;return s&&t&&t.length?(t[0].payload,(0,l.jsxs)("div",{className:"p-3 glassmorphism rounded-lg text-right shadow-lg border border-white/10",children:[(0,l.jsxs)("p",{className:"font-bold text-white mb-2",children:["نتیجه: ",a]}),(0,l.jsxs)("p",{className:"text-sm text-slate-300",children:["تعداد مشاهده شده: ",(0,l.jsx)("span",{className:"font-bold",children:t[0].value})]}),(0,l.jsxs)("p",{className:"text-sm text-slate-400",children:["تعداد مورد انتظار: ",(0,l.jsx)("span",{className:"font-bold",children:F.toFixed(2)})]})]})):null},{})}),e.length>0&&(0,l.jsx)(v.e,{y:F,strokeDasharray:"3 3",strokeWidth:2,stroke:"hsl(var(--destructive) / 0.8)",children:(0,l.jsx)(N.J,{value:"احتمال نظری (۱/۶)",position:"insideTopRight",fill:"hsl(var(--destructive))",className:"text-xs",offset:10})}),(0,l.jsxs)(p.y,{dataKey:"count",name:"تعداد",radius:[4,4,0,0],children:[(0,l.jsx)(b.Z,{dataKey:"percentage",position:"top",formatter:e=>e>0?"".concat(e.toFixed(1),"%"):"",className:"fill-slate-200 text-xs"}),Z.map((e,s)=>(0,l.jsx)(k.f,{fill:B[s%B.length]},"cell-".concat(s)))]})]})})})]})]}),e.length>1&&(0,l.jsxs)(r.Zp,{className:"glassmorphism",children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsxs)(r.ZB,{className:"flex items-center gap-2 justify-end",children:["نمودار همگرایی (قانون اعداد بزرگ)",(0,l.jsx)(d,{className:"text-blue-400"})]}),(0,l.jsx)(r.BT,{className:"text-right",children:"این نمودار نشان می‌دهد که چطور احتمال تجربی مشاهده عدد ۶ با افزایش تعداد پرتاب‌ها به احتمال نظری (۱۶.۷٪) نزدیک می‌شود."})]}),(0,l.jsx)(r.Wu,{className:"h-72",children:(0,l.jsx)(x.u,{width:"100%",height:"100%",children:(0,l.jsxs)(A,{data:R,margin:{top:5,right:30,left:0,bottom:20},children:[(0,l.jsx)(M.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border) / 0.15)"}),(0,l.jsx)(u.W,{dataKey:"rollNumber",stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))"},type:"number",domain:["dataMin","dataMax"],children:(0,l.jsx)(N.J,{value:"تعداد پرتاب",offset:-15,position:"insideBottom",fill:"hsl(var(--foreground))"})}),(0,l.jsx)(f.h,{stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))"},domain:[0,100],tickFormatter:e=>"".concat(e,"%"),children:(0,l.jsx)(N.J,{value:"احتمال",angle:-90,position:"insideLeft",style:{textAnchor:"middle"},fill:"hsl(var(--foreground))"})}),(0,l.jsx)(y.m,{content:(0,l.jsx)(e=>{let{active:s,payload:t,label:a}=e;return s&&t&&t.length?(0,l.jsxs)("div",{className:"p-3 glassmorphism rounded-lg text-right shadow-lg border border-white/10",children:[(0,l.jsxs)("p",{className:"font-bold text-white mb-2",children:["پرتاب شماره: ",a]}),(0,l.jsxs)("p",{className:"text-sm text-slate-300",children:["احتمال تجربی: ",(0,l.jsxs)("span",{className:"font-bold text-blue-400",children:[t[0].value.toFixed(2),"%"]})]}),(0,l.jsxs)("p",{className:"text-sm text-slate-400",children:["احتمال نظری: ",(0,l.jsxs)("span",{className:"font-bold text-red-400",children:[D.toFixed(2),"%"]})]})]}):null},{}),cursor:{stroke:"hsl(var(--primary))",strokeDasharray:"3 3"}}),(0,l.jsx)(w.N,{type:"monotone",dataKey:"probability",name:"احتمال تجربی (عدد ۶)",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1}),(0,l.jsx)(v.e,{y:D,stroke:"hsl(var(--destructive))",strokeDasharray:"4 4",strokeWidth:2,children:(0,l.jsx)(N.J,{value:"نظری: ".concat(D.toFixed(1),"%"),position:"top",fill:"hsl(var(--destructive))",fontSize:12})})]})})})]})]})}},63551:(e,s,t)=>{t.d(s,{A:()=>l});let l=(0,t(14294).A)("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]])}}]);