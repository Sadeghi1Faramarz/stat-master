"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[769],{10489:(e,t,a)=>{a.d(t,{b:()=>i});var r=a(12115),s=a(88142),n=a(95155),l=r.forwardRef((e,t)=>(0,n.jsx)(s.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l},11647:(e,t,a)=>{a.d(t,{E:()=>i});var r=a(95155);a(12115);var s=a(83101),n=a(64269);let l=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,...s}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:a}),t),...s})}},71769:(e,t,a)=>{a.r(t),a.d(t,{ChartsPanel:()=>W});var r=a(95155),s=a(12115),n=a(26991),l=a(30157),i=a(68425),o=a(47734),d=a(63296),c=a(73697),u=a(23508),m=a(7620),h=a(31651),x=a(48716),f=a(16533),p=a(47643),y=a(92556),v=a(94446),b=a(3468),g=a(23558),j=a(78108),k=a(84288),w=a(88142),N="Switch",[M,C]=(0,b.A)(N),[F,I]=M(N),q=s.forwardRef((e,t)=>{let{__scopeSwitch:a,name:n,checked:l,defaultChecked:i,required:o,disabled:d,value:c="on",onCheckedChange:u,form:m,...h}=e,[x,f]=s.useState(null),p=(0,v.s)(t,e=>f(e)),b=s.useRef(!1),j=!x||m||!!x.closest("form"),[k=!1,N]=(0,g.i)({prop:l,defaultProp:i,onChange:u});return(0,r.jsxs)(F,{scope:a,checked:k,disabled:d,children:[(0,r.jsx)(w.sG.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":E(k),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:p,onClick:(0,y.m)(e.onClick,e=>{N(e=>!e),j&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),j&&(0,r.jsx)(D,{control:x,bubbles:!b.current,name:n,value:c,checked:k,required:o,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});q.displayName=N;var S="SwitchThumb",A=s.forwardRef((e,t)=>{let{__scopeSwitch:a,...s}=e,n=I(S,a);return(0,r.jsx)(w.sG.span,{"data-state":E(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:t})});A.displayName=S;var D=e=>{let{control:t,checked:a,bubbles:n=!0,...l}=e,i=s.useRef(null),o=(0,j.Z)(a),d=(0,k.X)(t);return s.useEffect(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&t){let r=new Event("click",{bubbles:n});t.call(e,a),e.dispatchEvent(r)}},[o,a,n]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...l,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function E(e){return e?"checked":"unchecked"}var J=a(64269);let z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(q,{className:(0,J.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...s,ref:t,children:(0,r.jsx)(A,{className:(0,J.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});z.displayName=q.displayName;var P=a(76444),R=a(11647),T=a(14294);let O=(0,T.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),G=(0,T.A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);var V=a(34486);let H=e=>{let{active:t,payload:a,label:s,totalCount:n,maxFreq:l}=e;if(t&&a&&a.length){let e=a.find(e=>"frequency"===e.dataKey);if(!e)return null;let t=e.value,i=(t/n*100).toFixed(1),o=t===l,d=t<=.05*n&&!o,c=null;return o?c=(0,r.jsxs)(R.E,{variant:"default",className:"bg-amber-500/80 text-white border-amber-400",children:[(0,r.jsx)(O,{className:"ml-1 h-3 w-3"})," پرتکرارترین رده (مد)"]}):d&&(c=(0,r.jsxs)(R.E,{variant:"secondary",className:"bg-slate-600/80",children:[(0,r.jsx)(G,{className:"ml-1 h-3 w-3"})," تراکم پایین"]})),(0,r.jsxs)("div",{className:"p-3 glassmorphism rounded-lg border border-white/10 text-white shadow-lg min-w-[200px] text-right",children:[(0,r.jsx)("p",{className:"label font-bold mb-1",children:"مرکز طبقه: ".concat(s)}),(0,r.jsx)("div",{className:"border-t border-white/10 my-2"}),(0,r.jsxs)("p",{className:"text-sm",children:["فراوانی: ",(0,r.jsx)("span",{className:"font-bold text-purple-300 tabular-nums",children:t})]}),(0,r.jsxs)("p",{className:"text-sm",children:["درصد از کل: ",(0,r.jsxs)("span",{className:"font-bold text-purple-300 tabular-nums",children:[i,"%"]})]}),c&&(0,r.jsx)("div",{className:"mt-3",children:c})]})}return null};function W(e){let{data:t,rawData:a,stats:y,classWidth:v}=e,[b,g]=(0,s.useState)(!0),[j,k]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!0),M=(0,s.useMemo)(()=>Math.max(...t.map(e=>e.frequency)),[t]),C=(0,s.useMemo)(()=>{if(!y.mean||!y.stdDev||!t)return[];let e=y.mean.value,r=y.stdDev.value,s=a.length;return t.map(t=>{let a=parseFloat(t.name),n=s*v*((e,t,a)=>{if(0===a)return e===t?1/0:0;let r=-.5*Math.pow((e-t)/a,2);return 1/(a*Math.sqrt(2*Math.PI))*Math.exp(r)})(a,e,r);return{name:a,frequency:t.frequency,normalValue:n>.01?n:null}}).sort((e,t)=>e.name-t.name)},[t,y,a.length,v]);if(!t||0===t.length)return(0,r.jsx)("p",{children:"داده‌ای برای رسم نمودار وجود ندارد."});let F=(0,s.useMemo)(()=>t.map(e=>({name:parseFloat(e.name),frequency:e.frequency})).sort((e,t)=>e.name-t.name),[t]),I=F.length>1?F[1].name-F[0].name:10,q=(0,s.useMemo)(()=>(e=>{let t=[...e].sort((e,t)=>e-t),a=e=>{let a=(t.length-1)*e,r=Math.floor(a);return void 0!==t[r+1]?t[r]+(a-r)*(t[r+1]-t[r]):t[r]};return{min:t[0],q1:a(.25),median:a(.5),q3:a(.75),max:t[t.length-1]}})(a),[a]),S=[Math.min(q.min,Math.min(...F.map(e=>e.name))-I/2),Math.max(q.max,Math.max(...F.map(e=>e.name))+I/2)];return(0,r.jsxs)("div",{className:"h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center px-6 pt-4 pb-2 gap-4",children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-white text-right w-full md:w-auto",children:"نمودار توزیع داده‌ها"}),(0,r.jsxs)(V.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex items-center justify-end gap-4 md:gap-6 w-full md:w-auto",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",dir:"ltr",children:[(0,r.jsx)(P.J,{htmlFor:"boxplot-switch",children:"نمودار جعبه‌ای"}),(0,r.jsx)(z,{id:"boxplot-switch",checked:w,onCheckedChange:N})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",dir:"ltr",children:[(0,r.jsx)(P.J,{htmlFor:"ref-lines-switch",children:"شاخص‌ها"}),(0,r.jsx)(z,{id:"ref-lines-switch",checked:b,onCheckedChange:g})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",dir:"ltr",children:[(0,r.jsx)(P.J,{htmlFor:"normal-curve-switch",children:"منحنی نرمال"}),(0,r.jsx)(z,{id:"normal-curve-switch",checked:j,onCheckedChange:k})]})]})]}),(0,r.jsx)("div",{className:"flex-1 -mt-2",children:(0,r.jsx)(n.u,{width:"100%",height:"100%",children:(0,r.jsxs)(l.X,{data:C,margin:{top:20,right:20,left:0,bottom:25},barGap:0,barCategoryGap:"0%",children:[(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"5%",stopColor:"#a855f7",stopOpacity:.8}),(0,r.jsx)("stop",{offset:"95%",stopColor:"#a855f7",stopOpacity:.1})]})}),(0,r.jsx)(i.d,{strokeDasharray:"3 3",stroke:"hsl(var(--border) / 0.15)"}),(0,r.jsx)(o.W,{dataKey:"name",type:"number",domain:S,ticks:F.map(e=>e.name),tickFormatter:e=>e.toFixed(1),stroke:"hsl(var(--muted-foreground))",tick:{fill:"hsl(var(--muted-foreground))",className:"tabular-nums"},allowDuplicatedCategory:!1,children:(0,r.jsx)(d.J,{value:"مقادیر",offset:-20,position:"insideBottom",fill:"hsl(var(--foreground))"})}),(0,r.jsx)(c.h,{yAxisId:"left",stroke:"hsl(var(--muted-foreground))",domain:[0,M>0?M+2:10],tick:{fill:"hsl(var(--muted-foreground))",className:"tabular-nums"},children:(0,r.jsx)(d.J,{value:"فراوانی",angle:-90,position:"insideLeft",style:{textAnchor:"middle"},fill:"hsl(var(--foreground))"})}),(0,r.jsx)(u.m,{content:(0,r.jsx)(H,{totalCount:a.length,maxFreq:M}),cursor:{fill:"hsl(var(--secondary) / 0.5)"}}),(0,r.jsx)(m.s,{wrapperStyle:{color:"white",direction:"rtl",bottom:-5}}),w&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.T,{yAxisId:"left",x1:q.q1,x2:q.q3,stroke:"hsl(var(--primary))",strokeOpacity:.8,fill:"hsl(var(--primary) / 0.2)"}),(0,r.jsx)(x.e,{yAxisId:"left",x:q.min,stroke:"hsl(var(--primary))",strokeWidth:2,children:(0,r.jsx)(d.J,{value:"Min: ".concat(q.min.toFixed(1)),position:"top",fill:"hsl(var(--foreground))",fontSize:11})}),(0,r.jsx)(x.e,{yAxisId:"left",x:q.max,stroke:"hsl(var(--primary))",strokeWidth:2,children:(0,r.jsx)(d.J,{value:"Max: ".concat(q.max.toFixed(1)),position:"top",fill:"hsl(var(--foreground))",fontSize:11})}),(0,r.jsx)(x.e,{yAxisId:"left",x:q.median,stroke:"hsl(var(--primary))",strokeWidth:2,strokeDasharray:"3 3",children:(0,r.jsx)(d.J,{value:"Median: ".concat(q.median.toFixed(1)),position:"top",fill:"hsl(var(--foreground))",fontSize:11})})]}),(0,r.jsx)(f.y,{yAxisId:"left",dataKey:"frequency",name:"هیستوگرام",fill:"url(#colorUv)",radius:[4,4,0,0],barSize:40,opacity:.9,zIndex:2}),j&&(0,r.jsx)(p.N,{yAxisId:"left",type:"monotone",dataKey:"normalValue",name:"توزیع نرمال (تئوری)",stroke:"#F59E0B",strokeWidth:3,dot:!1,activeDot:!1,zIndex:3}),b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.T,{yAxisId:"left",x1:q.min,x2:q.median,stroke:"hsl(var(--primary))",strokeOpacity:.5,fill:"#8b5cf6",fillOpacity:.1,children:(0,r.jsx)(d.J,{value:"۵۰٪ داده‌ها",position:"insideTop",fill:"#8b5cf6",fontSize:12})}),(0,r.jsx)(x.e,{yAxisId:"left",x:y.mean.value,stroke:"#10B981",strokeDasharray:"3 3",zIndex:4,children:(0,r.jsx)(d.J,{value:"میانگین: ".concat(y.mean.value.toFixed(2)),position:"top",fill:"#10B981",fontSize:12,className:"tabular-nums"})}),y.mode.value.map((e,t)=>(0,r.jsx)(x.e,{yAxisId:"left",x:e,stroke:"#EC4899",strokeDasharray:"3 3",zIndex:4,children:(0,r.jsx)(d.J,{value:"مد: ".concat(e.toFixed(2)),position:"insideTopRight",fill:"#EC4899",fontSize:12,className:"tabular-nums"})},"mode-".concat(t)))]})]})})})]})}},76444:(e,t,a)=>{a.d(t,{J:()=>d});var r=a(95155),s=a(12115),n=a(10489),l=a(83101),i=a(64269);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 text-right"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=n.b.displayName}}]);